<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Testing/Experimenting Polylines</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
	
	var defaultCarleton = new google.maps.LatLng(45.383143,-75.696138);
	var node1 = new google.maps.LatLng(45.385541,-75.69763);
	var node2 = new google.maps.LatLng(45.385554,-75.696385);			//These are the set of nodes i am gonna be using to make a polyline
	var node3 = new google.maps.LatLng(45.384688,-75.696374);	
	var node4 = new google.maps.LatLng(45.383708,-75.696299);
	var node5 = new google.maps.LatLng(45.383143,-75.696138);			//edit, this is just a trial run, i will update this code so it works with OUR objects
	var node6 = new google.maps.LatLng(45.382751,-75.695913);
	var node7 = new google.maps.LatLng(45.382872,-75.695376);
	var node8 = new google.maps.LatLng(45.383037,-75.695248);
	var node9 = new google.maps.LatLng(45.383248,-75.694625);
	var myPaths = [node1,node2,node3,node4,node5,node6,node7,node8,node9];
	
function initialize() {
		
	var mapOptions = {
    zoom: 16,
    center: defaultCarleton
  }																				//center of map, doesnt matter, we can keep this dynamic so user can see 
  var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
  
  

	
	var mypolyLine = new google.maps.Polyline({
	path: myPaths,
	geodesic: true,
	strokeColor: '#009ACD',			 			//here is where the polylines get created, the polyline accepts an array of googlemap.latlng 
	strokeOpacity: 1,
	strokeWeight: 5
	});
	mypolyLine.setMap(map);		//this specific line draws the polylines on the map
	}
	
function remap() {
	myPaths.shift();
	initialize(); 				//this is ONE of the few solutions possible for erasing polylines
	mypolyLine.setMap(map);		//IMPORTANT: what this does is, since we have an array of lat,lngs.. we can use an IF statement, to check whether or not user's current position
}								//is at OR around the next node they are walking to, we can use getCurrentPos for this, that way,
								//once user hits the node, the line "myPaths.shift();" will take the first element off the array, and call initialize again, and draw the NEW 
								//polyline, Note that right now, it simply removs the polylines by remapping to a diff. array,
								//after the algo is done, we can try this with the if(); around nodes.
google.maps.event.addDomListener(window, 'load', initialize);
//another function here will check, that IF the user.getCurrentPos is the same as the next surrounding node, call REMAP
    </script>
		<script>
	setInterval(function(){remap()},3000);	//for now, i used setInterval to test the remap function.. this calls remap every 3 seconds 
	
										//HOWEVER this is another possible solution for erasing polylines, we update
									//the user's currentPos, and pass it through our main algorithm to route them, and remap the polylines, every x seconds, this way it is
										//a bit more dynamic, whereas the other way, the polylines erase only everytime a new node is crossed.
</script>
  </head>			
  <body>
    <div id="map-canvas"></div>
  </body>
</html>
